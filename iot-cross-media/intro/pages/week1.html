<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬1é€±ï¼šIoT åŸºç¤èˆ‡ç’°å¢ƒå»ºç½® - IoT Cross-Media æ•™å­¸ç³»çµ±</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Prism.js for code highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <!-- è‡ªå®šç¾©æ¨£å¼ -->
    <link href="/assets/css/main.css" rel="stylesheet">
    
    <style>
        .learning-section {
            border-left: 4px solid #0d6efd;
            padding-left: 20px;
            margin-bottom: 30px;
        }
        .code-example {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }
        .exercise-card {
            border: 2px solid #198754;
            background-color: #d1e7dd;
        }
        .theory-card {
            border: 2px solid #0dcaf0;
            background-color: #cff4fc;
        }
        .progress-tracker {
            position: sticky;
            top: 20px;
        }
        .step-completed {
            color: #198754;
        }
        .step-current {
            color: #fd7e14;
            font-weight: bold;
        }
        .api-result {
            background-color: #000;
            color: #0f0;
            padding: 10px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            min-height: 100px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <!-- å°èˆªæ¬„ -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-microchip me-2"></i>
                IoT Cross-Media æ•™å­¸ç³»çµ±
            </a>
            
            <div class="navbar-nav ms-auto">
                <span class="navbar-text">
                    <i class="fas fa-calendar-week me-2"></i>ç¬¬1é€±èª²ç¨‹
                </span>
            </div>
        </div>
    </nav>

    <div class="container-fluid mt-4">
        <div class="row">
            <!-- å·¦å´å…§å®¹ -->
            <div class="col-lg-9">
                <!-- èª²ç¨‹æ¨™é¡Œ -->
                <div class="card mb-4">
                    <div class="card-header bg-primary text-white">
                        <h2 class="mb-0">
                            <i class="fas fa-rocket me-2"></i>
                            ç¬¬1é€±ï¼šIoT åŸºç¤èˆ‡ç’°å¢ƒå»ºç½®
                        </h2>
                        <p class="mb-0 mt-2">å­¸ç¿’æ™‚é–“ï¼š2.5å°æ™‚ | ç†è«–è¬›è§£ï¼š90åˆ†é˜ | å¯¦ä½œç·´ç¿’ï¼š60åˆ†é˜</p>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-8">
                                <p class="lead">æ­¡è¿ä¾†åˆ° IoT ä¸–ç•Œï¼æœ¬é€±æˆ‘å€‘å°‡å»ºç«‹ IoT ç³»çµ±çš„åŸºç¤æ¦‚å¿µï¼Œå®Œæˆé–‹ç™¼ç’°å¢ƒè¨­ç½®ï¼Œä¸¦å¯¦ç¾æ‚¨çš„ç¬¬ä¸€å€‹ API å‘¼å«ã€‚</p>
                            </div>
                            <div class="col-md-4 text-center">
                                <div class="progress mb-2">
                                    <div class="progress-bar" id="lesson-progress" role="progressbar" style="width: 0%"></div>
                                </div>
                                <small class="text-muted">èª²ç¨‹é€²åº¦ï¼š<span id="progress-text">0%</span></small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ç¬¬ä¸€éƒ¨åˆ†ï¼šç†è«–è¬›è§£ (30åˆ†é˜) -->
                <div class="learning-section">
                    <div class="card theory-card mb-4">
                        <div class="card-header">
                            <h4><i class="fas fa-book me-2"></i>ç†è«–è¬›è§£ (30åˆ†é˜)ï¼šIoT å››å±¤æ¶æ§‹</h4>
                        </div>
                        <div class="card-body">
                            <h5>ğŸ—ï¸ IoT ç³»çµ±çš„å››å±¤æ¶æ§‹</h5>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card h-100">
                                        <div class="card-body text-center">
                                            <i class="fas fa-cloud fa-3x text-primary mb-3"></i>
                                            <h6>4. æ‡‰ç”¨å±¤ (Application Layer)</h6>
                                            <p class="small">ä½¿ç”¨è€…ä»‹é¢ã€è³‡æ–™åˆ†æã€æ¥­å‹™é‚è¼¯</p>
                                            <div class="badge bg-primary">Web App</div>
                                            <div class="badge bg-primary">Mobile App</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card h-100">
                                        <div class="card-body text-center">
                                            <i class="fas fa-server fa-3x text-success mb-3"></i>
                                            <h6>3. è³‡æ–™è™•ç†å±¤ (Data Processing)</h6>
                                            <p class="small">è³‡æ–™å„²å­˜ã€åˆ†æã€æ©Ÿå™¨å­¸ç¿’</p>
                                            <div class="badge bg-success">Database</div>
                                            <div class="badge bg-success">Analytics</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-md-6">
                                    <div class="card h-100">
                                        <div class="card-body text-center">
                                            <i class="fas fa-network-wired fa-3x text-warning mb-3"></i>
                                            <h6>2. ç¶²è·¯å±¤ (Network Layer)</h6>
                                            <p class="small">è³‡æ–™å‚³è¼¸ã€é€šè¨Šå”å®š</p>
                                            <div class="badge bg-warning">HTTP/HTTPS</div>
                                            <div class="badge bg-warning">MQTT</div>
                                            <div class="badge bg-warning">WebSocket</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card h-100">
                                        <div class="card-body text-center">
                                            <i class="fas fa-microchip fa-3x text-danger mb-3"></i>
                                            <h6>1. æ„ŸçŸ¥å±¤ (Perception Layer)</h6>
                                            <p class="small">æ„Ÿæ¸¬å™¨ã€è‡´å‹•å™¨ã€è¨­å‚™</p>
                                            <div class="badge bg-danger">æº«åº¦æ„Ÿæ¸¬å™¨</div>
                                            <div class="badge bg-danger">æ¿•åº¦æ„Ÿæ¸¬å™¨</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-4 p-3 bg-light rounded">
                                <h6><i class="fas fa-lightbulb text-warning me-2"></i>é‡è¦æ¦‚å¿µ</h6>
                                <ul>
                                    <li><strong>æ„Ÿæ¸¬å™¨</strong>ï¼šæ”¶é›†ç’°å¢ƒè³‡æ–™çš„è¨­å‚™ï¼ˆæº«åº¦ã€æ¿•åº¦ã€å…‰ç·šç­‰ï¼‰</li>
                                    <li><strong>API</strong>ï¼šæ‡‰ç”¨ç¨‹å¼ä»‹é¢ï¼Œè®“ä¸åŒç³»çµ±é–“å¯ä»¥äº’ç›¸æºé€š</li>
                                    <li><strong>å³æ™‚è³‡æ–™</strong>ï¼šæ„Ÿæ¸¬å™¨æŒçºŒç”¢ç”Ÿçš„æœ€æ–°è³‡æ–™</li>
                                    <li><strong>å‰å¾Œç«¯åˆ†é›¢</strong>ï¼šå‰ç«¯è² è²¬é¡¯ç¤ºï¼Œå¾Œç«¯è² è²¬è³‡æ–™è™•ç†</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ç¬¬äºŒéƒ¨åˆ†ï¼šç’°å¢ƒå»ºç½® (30åˆ†é˜) -->
                <div class="learning-section">
                    <div class="card mb-4">
                        <div class="card-header bg-info text-white">
                            <h4><i class="fas fa-cogs me-2"></i>ç’°å¢ƒå»ºç½® (30åˆ†é˜)ï¼šç³»çµ±å®‰è£å’Œå•Ÿå‹•</h4>
                        </div>
                        <div class="card-body">
                            <h5>ğŸ› ï¸ ç³»çµ±éœ€æ±‚æª¢æŸ¥</h5>
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <div class="card">
                                        <div class="card-body">
                                            <h6><i class="fas fa-check-circle text-success me-2"></i>å¿…è¦è»Ÿé«”</h6>
                                            <ul>
                                                <li>Node.js 16.0+ <span class="badge bg-success" id="node-version">æª¢æŸ¥ä¸­...</span></li>
                                                <li>è¨˜æ†¶é«” 2GB+ <span class="badge bg-success">å……è¶³</span></li>
                                                <li>ç¡¬ç¢Ÿ 500MB+ <span class="badge bg-success">å……è¶³</span></li>
                                                <li>ç¾ä»£ç€è¦½å™¨ <span class="badge bg-success">Chrome/Firefox/Edge</span></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card">
                                        <div class="card-body">
                                            <h6><i class="fas fa-terminal text-primary me-2"></i>å¿«é€Ÿå®‰è£</h6>
                                            <div class="code-example">
                                                <pre><code class="language-bash"># é€²å…¥æ•™å­¸ç‰ˆç›®éŒ„
cd infrastructure/educational

# ä¸€éµå®‰è£
npm run setup-education

# ä¸€éµå•Ÿå‹•
npm run start-education</code></pre>
                                            </div>
                                            <button class="btn btn-primary btn-sm" onclick="checkNodeVersion()">
                                                <i class="fas fa-check me-1"></i>æª¢æŸ¥ Node.js ç‰ˆæœ¬
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ç¬¬ä¸‰éƒ¨åˆ†ï¼šé–‹ç™¼è€…å·¥å…· (30åˆ†é˜) -->
                <div class="learning-section">
                    <div class="card mb-4">
                        <div class="card-header bg-warning text-dark">
                            <h4><i class="fas fa-tools me-2"></i>é–‹ç™¼è€…å·¥å…·ä½¿ç”¨ (30åˆ†é˜)</h4>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h5>ğŸ” ç€è¦½å™¨é–‹ç™¼è€…å·¥å…·</h5>
                                    <div class="card">
                                        <div class="card-body">
                                            <ol>
                                                <li>æŒ‰ <kbd>F12</kbd> é–‹å•Ÿé–‹ç™¼è€…å·¥å…·</li>
                                                <li>åˆ‡æ›åˆ° <strong>Console</strong> æ¨™ç±¤</li>
                                                <li>å˜—è©¦åŸ·è¡Œ JavaScript æŒ‡ä»¤</li>
                                                <li>è§€å¯Ÿ <strong>Network</strong> æ¨™ç±¤çš„ API è«‹æ±‚</li>
                                            </ol>
                                            <button class="btn btn-warning btn-sm" onclick="openDevTools()">
                                                <i class="fas fa-external-link-alt me-1"></i>é«”é©—é–‹ç™¼è€…å·¥å…·
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h5>ğŸ“Š å³æ™‚ JavaScript æ¸¬è©¦</h5>
                                    <div class="card">
                                        <div class="card-body">
                                            <textarea class="form-control mb-2" id="js-input" rows="3" placeholder="è¼¸å…¥ JavaScript ç¨‹å¼ç¢¼...">console.log('Hello IoT World!');</textarea>
                                            <button class="btn btn-success btn-sm" onclick="executeJS()">
                                                <i class="fas fa-play me-1"></i>åŸ·è¡Œç¨‹å¼ç¢¼
                                            </button>
                                            <div id="js-output" class="api-result mt-2"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ç¬¬å››éƒ¨åˆ†ï¼šå¯¦ä½œç·´ç¿’ (60åˆ†é˜) -->
                <div class="learning-section">
                    <div class="card exercise-card mb-4">
                        <div class="card-header">
                            <h4><i class="fas fa-laptop-code me-2"></i>å¯¦ä½œç·´ç¿’ (60åˆ†é˜)ï¼šç¬¬ä¸€å€‹ API å‘¼å«</h4>
                        </div>
                        <div class="card-body">
                            <!-- ç·´ç¿’ 1ï¼šç³»çµ±ç‹€æ…‹æª¢æŸ¥ -->
                            <div class="mb-4">
                                <h5>ğŸ¯ ç·´ç¿’ 1ï¼šç³»çµ±ç‹€æ…‹æª¢æŸ¥ (15åˆ†é˜)</h5>
                                <p>è®“æˆ‘å€‘æª¢æŸ¥æ•™å­¸ç³»çµ±æ˜¯å¦æ­£å¸¸é‹è¡Œã€‚</p>
                                
                                <div class="code-example">
                                    <h6>ç¯„ä¾‹ç¨‹å¼ç¢¼ï¼š</h6>
                                    <pre><code class="language-javascript">// æª¢æŸ¥å¾Œç«¯ API ç‹€æ…‹
fetch('http://localhost:3001/api/health')
  .then(response => response.json())
  .then(data => {
    console.log('ç³»çµ±ç‹€æ…‹:', data);
    document.getElementById('health-result').innerHTML = 
      `&lt;strong&gt;ç³»çµ±ç‹€æ…‹ï¼š&lt;/strong&gt; ${data.status}&lt;br&gt;
       &lt;strong&gt;è³‡æ–™åº«ï¼š&lt;/strong&gt; ${data.database ? 'æ­£å¸¸' : 'ç•°å¸¸'}&lt;br&gt;
       &lt;strong&gt;æ™‚é–“ï¼š&lt;/strong&gt; ${new Date(data.timestamp).toLocaleString()}`;
  })
  .catch(error => {
    console.error('API å‘¼å«å¤±æ•—:', error);
    document.getElementById('health-result').innerHTML = 
      '&lt;span class="text-danger"&gt;ç„¡æ³•é€£æ¥åˆ°å¾Œç«¯æœå‹™&lt;/span&gt;';
  });</code></pre>
                                </div>
                                
                                <button class="btn btn-success" onclick="checkHealth()">
                                    <i class="fas fa-heartbeat me-1"></i>åŸ·è¡Œå¥åº·æª¢æŸ¥
                                </button>
                                <div id="health-result" class="api-result mt-2"></div>
                            </div>

                            <!-- ç·´ç¿’ 2ï¼šè¨­å‚™åˆ—è¡¨ç²å– -->
                            <div class="mb-4">
                                <h5>ğŸ¯ ç·´ç¿’ 2ï¼šç²å– IoT è¨­å‚™åˆ—è¡¨ (20åˆ†é˜)</h5>
                                <p>å­¸ç¿’å¦‚ä½•å¾å¾Œç«¯ API ç²å–è¨­å‚™è³‡æ–™ã€‚</p>
                                
                                <div class="code-example">
                                    <h6>ç¯„ä¾‹ç¨‹å¼ç¢¼ï¼š</h6>
                                    <pre><code class="language-javascript">// ç²å–æ‰€æœ‰ IoT è¨­å‚™
async function getDevices() {
  try {
    const response = await fetch('http://localhost:3001/api/devices');
    const devices = await response.json();
    
    console.log('è¨­å‚™åˆ—è¡¨:', devices);
    
    // é¡¯ç¤ºè¨­å‚™è³‡è¨Š
    let html = '&lt;h6&gt;ç™¼ç¾çš„è¨­å‚™ï¼š&lt;/h6&gt;&lt;ul&gt;';
    devices.forEach(device => {
      html += `&lt;li&gt;&lt;strong&gt;${device.name}&lt;/strong&gt; (${device.type}) - ${device.status}&lt;/li&gt;`;
    });
    html += '&lt;/ul&gt;';
    
    document.getElementById('devices-result').innerHTML = html;
    
    // æ›´æ–°è¨­å‚™è¨ˆæ•¸
    document.getElementById('device-count').textContent = devices.length;
    
  } catch (error) {
    console.error('ç²å–è¨­å‚™å¤±æ•—:', error);
    document.getElementById('devices-result').innerHTML = 
      '&lt;span class="text-danger"&gt;ç„¡æ³•ç²å–è¨­å‚™åˆ—è¡¨&lt;/span&gt;';
  }
}</code></pre>
                                </div>
                                
                                <button class="btn btn-success" onclick="getDevices()">
                                    <i class="fas fa-wifi me-1"></i>ç²å–è¨­å‚™åˆ—è¡¨
                                </button>
                                <div class="mt-2">
                                    <span class="badge bg-info">è¨­å‚™ç¸½æ•¸ï¼š<span id="device-count">0</span></span>
                                </div>
                                <div id="devices-result" class="api-result mt-2"></div>
                            </div>

                            <!-- ç·´ç¿’ 3ï¼šè™›æ“¬æ„Ÿæ¸¬å™¨è³‡æ–™ -->
                            <div class="mb-4">
                                <h5>ğŸ¯ ç·´ç¿’ 3ï¼šè™›æ“¬æ„Ÿæ¸¬å™¨è³‡æ–™ (25åˆ†é˜)</h5>
                                <p>å»ºç«‹è™›æ“¬æ„Ÿæ¸¬å™¨ä¸¦æ¨¡æ“¬å³æ™‚è³‡æ–™ç”¢ç”Ÿã€‚</p>
                                
                                <div class="code-example">
                                    <h6>ç¯„ä¾‹ç¨‹å¼ç¢¼ï¼š</h6>
                                    <pre><code class="language-javascript">// è™›æ“¬æ„Ÿæ¸¬å™¨é¡åˆ¥
class VirtualSensor {
  constructor(id, type, name) {
    this.id = id;
    this.type = type;
    this.name = name;
    this.isActive = false;
  }
  
  // ç”¢ç”Ÿæ¨¡æ“¬è³‡æ–™
  generateData() {
    const baseValue = this.type === 'temperature' ? 25 : 50;
    const variation = this.type === 'temperature' ? 10 : 30;
    return {
      sensorId: this.id,
      type: this.type,
      value: (baseValue + Math.random() * variation).toFixed(2),
      unit: this.type === 'temperature' ? 'Â°C' : '%',
      timestamp: new Date().toISOString()
    };
  }
  
  // é–‹å§‹ç”¢ç”Ÿè³‡æ–™
  start() {
    this.isActive = true;
    this.interval = setInterval(() => {
      const data = this.generateData();
      this.onDataGenerated(data);
    }, 2000);
  }
  
  // åœæ­¢ç”¢ç”Ÿè³‡æ–™
  stop() {
    this.isActive = false;
    if (this.interval) clearInterval(this.interval);
  }
  
  // è³‡æ–™ç”¢ç”Ÿå›èª¿
  onDataGenerated(data) {
    console.log('æ„Ÿæ¸¬å™¨è³‡æ–™:', data);
    this.displayData(data);
  }
  
  // é¡¯ç¤ºè³‡æ–™
  displayData(data) {
    const resultDiv = document.getElementById('sensor-result');
    const dataLine = `[${new Date(data.timestamp).toLocaleTimeString()}] ${data.type}: ${data.value}${data.unit}`;
    resultDiv.innerHTML = dataLine + '&lt;br&gt;' + resultDiv.innerHTML;
    
    // é™åˆ¶é¡¯ç¤ºè¡Œæ•¸
    const lines = resultDiv.innerHTML.split('&lt;br&gt;');
    if (lines.length > 10) {
      resultDiv.innerHTML = lines.slice(0, 10).join('&lt;br&gt;');
    }
  }
}</code></pre>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6">
                                        <button class="btn btn-success" onclick="startVirtualSensor('temperature')">
                                            <i class="fas fa-thermometer-half me-1"></i>å•Ÿå‹•æº«åº¦æ„Ÿæ¸¬å™¨
                                        </button>
                                        <button class="btn btn-info ms-2" onclick="startVirtualSensor('humidity')">
                                            <i class="fas fa-tint me-1"></i>å•Ÿå‹•æ¿•åº¦æ„Ÿæ¸¬å™¨
                                        </button>
                                    </div>
                                    <div class="col-md-6">
                                        <button class="btn btn-warning" onclick="stopAllSensors()">
                                            <i class="fas fa-stop me-1"></i>åœæ­¢æ‰€æœ‰æ„Ÿæ¸¬å™¨
                                        </button>
                                    </div>
                                </div>
                                <div id="sensor-result" class="api-result mt-2"></div>
                            </div>

                            <!-- å®Œæˆæª¢æŸ¥ -->
                            <div class="card border-success">
                                <div class="card-header bg-success text-white">
                                    <h6><i class="fas fa-trophy me-2"></i>ç¬¬1é€±å­¸ç¿’æˆæœæª¢æŸ¥</h6>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6>å­¸ç¿’ç›®æ¨™æª¢æ ¸ï¼š</h6>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="check1">
                                                <label class="form-check-label" for="check1">
                                                    ç†è§£ IoT å››å±¤æ¶æ§‹
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="check2">
                                                <label class="form-check-label" for="check2">
                                                    å®Œæˆé–‹ç™¼ç’°å¢ƒå»ºç½®
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="check3">
                                                <label class="form-check-label" for="check3">
                                                    æˆåŠŸåŸ·è¡Œç¬¬ä¸€å€‹ API å‘¼å«
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="check4">
                                                <label class="form-check-label" for="check4">
                                                    ç†Ÿç·´æ“ä½œè™›æ“¬è¨­å‚™
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <h6>ä¸‹é€±é ç¿’ï¼š</h6>
                                            <ul class="small">
                                                <li>jQuery é¸æ“‡å™¨åŸºç¤</li>
                                                <li>AJAX è³‡æ–™ç²å–</li>
                                                <li>Bootstrap çµ„ä»¶ä½¿ç”¨</li>
                                                <li>å³æ™‚è³‡æ–™åœ–è¡¨</li>
                                            </ul>
                                            <button class="btn btn-primary btn-sm" onclick="saveProgress()">
                                                <i class="fas fa-save me-1"></i>å„²å­˜å­¸ç¿’é€²åº¦
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- å³å´é€²åº¦è¿½è¹¤ -->
            <div class="col-lg-3">
                <div class="progress-tracker">
                    <div class="card">
                        <div class="card-header">
                            <h6><i class="fas fa-list-check me-2"></i>å­¸ç¿’é€²åº¦</h6>
                        </div>
                        <div class="card-body">
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-circle step-completed me-2"></i>
                                <small>ç†è«–è¬›è§£ (30åˆ†)</small>
                            </div>
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-circle step-completed me-2"></i>
                                <small>ç’°å¢ƒå»ºç½® (30åˆ†)</small>
                            </div>
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-circle step-completed me-2"></i>
                                <small>å·¥å…·ä½¿ç”¨ (30åˆ†)</small>
                            </div>
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-circle step-current me-2"></i>
                                <small>å¯¦ä½œç·´ç¿’ (60åˆ†)</small>
                            </div>
                            
                            <hr>
                            
                            <h6>ğŸ¯ æœ¬é€±ç›®æ¨™</h6>
                            <ul class="small">
                                <li>IoT æ¶æ§‹ç†è§£</li>
                                <li>ç’°å¢ƒå®‰è£å®Œæˆ</li>
                                <li>API å‘¼å«æˆåŠŸ</li>
                                <li>è™›æ“¬è¨­å‚™æ“ä½œ</li>
                            </ul>
                            
                            <hr>
                            
                            <h6>ğŸ“š å­¸ç¿’è³‡æº</h6>
                            <div class="d-flex flex-column gap-2">
                                <a href="../å¿«é€Ÿé–‹å§‹.md" class="btn btn-outline-primary btn-sm">
                                    <i class="fas fa-book me-1"></i>å¿«é€Ÿé–‹å§‹æŒ‡å—
                                </a>
                                <a href="http://localhost:3001/api-docs" target="_blank" class="btn btn-outline-info btn-sm">
                                    <i class="fas fa-code me-1"></i>API æ–‡æª”
                                </a>
                                <a href="/pages/week2.html" class="btn btn-outline-success btn-sm">
                                    <i class="fas fa-arrow-right me-1"></i>ç¬¬2é€±èª²ç¨‹
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Prism.js for code highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <script>
        // å…¨åŸŸè®Šæ•¸
        let virtualSensors = {};
        let lessonProgress = 0;
        
        // é é¢è¼‰å…¥å®Œæˆ
        $(document).ready(function() {
            console.log('ğŸ“ ç¬¬1é€±èª²ç¨‹å·²è¼‰å…¥');
            updateProgress(25); // åˆå§‹é€²åº¦
            checkNodeVersion();
        });

        // æ›´æ–°èª²ç¨‹é€²åº¦
        function updateProgress(percentage) {
            lessonProgress = percentage;
            $('#lesson-progress').css('width', percentage + '%');
            $('#progress-text').text(percentage + '%');
        }

        // æª¢æŸ¥ Node.js ç‰ˆæœ¬
        function checkNodeVersion() {
            // æ¨¡æ“¬æª¢æŸ¥ï¼ˆå¯¦éš›éœ€è¦å¾Œç«¯ APIï¼‰
            setTimeout(() => {
                $('#node-version').text('v18.17.0 âœ“');
                updateProgress(30);
            }, 1000);
        }

        // é–‹å•Ÿé–‹ç™¼è€…å·¥å…·æç¤º
        function openDevTools() {
            alert('è«‹æŒ‰ F12 éµé–‹å•Ÿç€è¦½å™¨é–‹ç™¼è€…å·¥å…·ï¼\n\nå»ºè­°æ­¥é©Ÿï¼š\n1. æŒ‰ F12\n2. é»æ“Š Console æ¨™ç±¤\n3. åœ¨ä¸‹æ–¹è¼¸å…¥æ¡†å˜—è©¦åŸ·è¡Œ JavaScript');
            updateProgress(50);
        }

        // åŸ·è¡Œ JavaScript ç¨‹å¼ç¢¼
        function executeJS() {
            const code = $('#js-input').val();
            const output = $('#js-output');
            
            try {
                // é‡æ–°å®šç¾© console.log ä¾†æ•ç²è¼¸å‡º
                const originalLog = console.log;
                const logs = [];
                console.log = function(...args) {
                    logs.push(args.join(' '));
                    originalLog.apply(console, args);
                };
                
                // åŸ·è¡Œç¨‹å¼ç¢¼
                const result = eval(code);
                
                // æ¢å¾©åŸå§‹çš„ console.log
                console.log = originalLog;
                
                // é¡¯ç¤ºçµæœ
                let outputText = '';
                if (logs.length > 0) {
                    outputText += '> ' + logs.join('\n> ') + '\n';
                }
                if (result !== undefined) {
                    outputText += 'å›å‚³å€¼: ' + JSON.stringify(result);
                }
                
                output.text(outputText || 'ç¨‹å¼ç¢¼åŸ·è¡Œå®Œæˆï¼ˆç„¡è¼¸å‡ºï¼‰');
                
            } catch (error) {
                output.text('éŒ¯èª¤: ' + error.message);
            }
            
            updateProgress(60);
        }

        // å¥åº·æª¢æŸ¥
        async function checkHealth() {
            const resultDiv = $('#health-result');
            resultDiv.html('<i class="fas fa-spinner fa-spin"></i> æª¢æŸ¥ä¸­...');
            
            try {
                // æ¨¡æ“¬ API å‘¼å«ï¼ˆå¯¦éš›æ‡‰è©²é€£æ¥åˆ°çœŸå¯¦å¾Œç«¯ï¼‰
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                const mockData = {
                    status: 'healthy',
                    database: true,
                    timestamp: new Date().toISOString(),
                    version: '1.0.0'
                };
                
                resultDiv.html(`
                    <strong>ç³»çµ±ç‹€æ…‹ï¼š</strong> ${mockData.status}<br>
                    <strong>è³‡æ–™åº«ï¼š</strong> ${mockData.database ? 'æ­£å¸¸' : 'ç•°å¸¸'}<br>
                    <strong>ç‰ˆæœ¬ï¼š</strong> ${mockData.version}<br>
                    <strong>æ™‚é–“ï¼š</strong> ${new Date(mockData.timestamp).toLocaleString()}
                `);
                
                updateProgress(70);
                
            } catch (error) {
                resultDiv.html('<span class="text-danger">ç„¡æ³•é€£æ¥åˆ°å¾Œç«¯æœå‹™</span>');
            }
        }

        // ç²å–è¨­å‚™åˆ—è¡¨
        async function getDevices() {
            const resultDiv = $('#devices-result');
            resultDiv.html('<i class="fas fa-spinner fa-spin"></i> è¼‰å…¥è¨­å‚™ä¸­...');
            
            try {
                // æ¨¡æ“¬ API å‘¼å«
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                const mockDevices = [
                    { id: 1, name: 'æº«åº¦æ„Ÿæ¸¬å™¨-01', type: 'temperature', status: 'online' },
                    { id: 2, name: 'æ¿•åº¦æ„Ÿæ¸¬å™¨-01', type: 'humidity', status: 'online' },
                    { id: 3, name: 'å…‰ç·šæ„Ÿæ¸¬å™¨-01', type: 'light', status: 'offline' },
                    { id: 4, name: 'LED æ§åˆ¶å™¨-01', type: 'actuator', status: 'online' }
                ];
                
                let html = '<h6>ç™¼ç¾çš„è¨­å‚™ï¼š</h6><ul>';
                mockDevices.forEach(device => {
                    const statusClass = device.status === 'online' ? 'text-success' : 'text-danger';
                    html += `<li><strong>${device.name}</strong> (${device.type}) - <span class="${statusClass}">${device.status}</span></li>`;
                });
                html += '</ul>';
                
                resultDiv.html(html);
                $('#device-count').text(mockDevices.length);
                
                updateProgress(80);
                
            } catch (error) {
                resultDiv.html('<span class="text-danger">ç„¡æ³•ç²å–è¨­å‚™åˆ—è¡¨</span>');
            }
        }

        // è™›æ“¬æ„Ÿæ¸¬å™¨é¡åˆ¥
        class VirtualSensor {
            constructor(id, type, name) {
                this.id = id;
                this.type = type;
                this.name = name;
                this.isActive = false;
            }
            
            generateData() {
                const baseValue = this.type === 'temperature' ? 25 : 50;
                const variation = this.type === 'temperature' ? 10 : 30;
                return {
                    sensorId: this.id,
                    type: this.type,
                    value: (baseValue + Math.random() * variation).toFixed(2),
                    unit: this.type === 'temperature' ? 'Â°C' : '%',
                    timestamp: new Date().toISOString()
                };
            }
            
            start() {
                this.isActive = true;
                this.interval = setInterval(() => {
                    const data = this.generateData();
                    this.displayData(data);
                }, 2000);
            }
            
            stop() {
                this.isActive = false;
                if (this.interval) clearInterval(this.interval);
            }
            
            displayData(data) {
                const resultDiv = document.getElementById('sensor-result');
                const dataLine = `[${new Date(data.timestamp).toLocaleTimeString()}] ${data.type}: ${data.value}${data.unit}`;
                resultDiv.innerHTML = dataLine + '<br>' + resultDiv.innerHTML;
                
                // é™åˆ¶é¡¯ç¤ºè¡Œæ•¸
                const lines = resultDiv.innerHTML.split('<br>');
                if (lines.length > 10) {
                    resultDiv.innerHTML = lines.slice(0, 10).join('<br>');
                }
            }
        }

        // å•Ÿå‹•è™›æ“¬æ„Ÿæ¸¬å™¨
        function startVirtualSensor(type) {
            const id = type + '-' + Date.now();
            const name = type === 'temperature' ? 'æº«åº¦æ„Ÿæ¸¬å™¨' : 'æ¿•åº¦æ„Ÿæ¸¬å™¨';
            
            if (virtualSensors[type]) {
                virtualSensors[type].stop();
            }
            
            virtualSensors[type] = new VirtualSensor(id, type, name);
            virtualSensors[type].start();
            
            $('#sensor-result').prepend(`<strong>[${new Date().toLocaleTimeString()}] ${name} å·²å•Ÿå‹•</strong><br>`);
            updateProgress(90);
        }

        // åœæ­¢æ‰€æœ‰æ„Ÿæ¸¬å™¨
        function stopAllSensors() {
            Object.values(virtualSensors).forEach(sensor => sensor.stop());
            virtualSensors = {};
            $('#sensor-result').prepend(`<strong>[${new Date().toLocaleTimeString()}] æ‰€æœ‰æ„Ÿæ¸¬å™¨å·²åœæ­¢</strong><br>`);
        }

        // å„²å­˜å­¸ç¿’é€²åº¦
        function saveProgress() {
            const checkedItems = $('.form-check-input:checked').length;
            const totalItems = $('.form-check-input').length;
            const completionRate = Math.round((checkedItems / totalItems) * 100);
            
            updateProgress(100);
            
            alert(`ç¬¬1é€±å­¸ç¿’é€²åº¦å·²å„²å­˜ï¼\nå®Œæˆç‡ï¼š${completionRate}%\n\n${checkedItems}/${totalItems} å€‹ç›®æ¨™å·²é”æˆ`);
            
            // æ¨¡æ“¬å„²å­˜åˆ°æœ¬åœ°å„²å­˜
            localStorage.setItem('week1_progress', JSON.stringify({
                completion: completionRate,
                timestamp: new Date().toISOString(),
                checkedItems: checkedItems
            }));
        }
    </script>
</body>
</html>
